{"version":3,"file":"lazy-comments.js","sources":["lazy-comments.js"],"sourcesContent":["/**\n * Lazy-Loader for the comments section\n */\nconst observer = new IntersectionObserver(commentsSectionIntersecting);\n\n/**\n * Called when the element comes into view\n */\nfunction commentsSectionIntersecting(entries) {\n  entries\n    .filter(e => e.isIntersecting)\n    .forEach(e => {\n      window.commento.main();\n      observer.unobserve(e.target);\n  });\n}\n \ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  // we only need to observe anything, if there is a commento element on the page\n  const commentsElem = document.getElementById(\"commento\");\n  if (commentsElem) {\n    if (typeof window.commento.main !== \"undefined\") {\n      observer.observe(commentsElem);\n    } else {\n      // if commento is not available, we remove the comments section\n      commentsElem.parentNode.removeChild(commentsElem);\n    }\n  }\n});"],"names":["observer","IntersectionObserver","commentsSectionIntersecting","entries","filter","e","isIntersecting","forEach","window","commento","main","unobserve","target","document","addEventListener","commentsElem","getElementById","observe","parentNode","removeChild"],"mappings":"AAGA,MAAMA,SAAW,IAAIC,qBAAqBC,6BAK1C,SAASA,4BAA4BC,GACnCA,EACGC,OAAOC,GAAKA,EAAEC,gBACdC,QAAQF,IACPG,OAAOC,SAASC,OAChBV,SAASW,UAAUN,EAAEO,UAI3BC,SAASC,iBAAiB,mBAAoB,WAE5C,MAAMC,EAAeF,SAASG,eAAe,YACzCD,SACkC,IAAzBP,OAAOC,SAASC,KACzBV,SAASiB,QAAQF,GAGjBA,EAAaG,WAAWC,YAAYJ"}